<div style="background-color: rgb(68, 228, 201);"
    class="jumbotron py-3 d-flex align-items-center justify-content-center">
    <h1 class="display-4 text-center">Szczegóły płatnośći</h1>
</div>

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <form novalidate autocomplete="off" #form="ngForm" (submit)="addPayment(form)">
                <input type="hidden" name="payment_id" [value]="service.formData.payment_id" />
                <input type="hidden" name="payment_id" [value]="service.formData.booking_id" />
                <div class="form-group">
                    <label class="mt-5">CARD OWNER NAME</label>
                    <input class="form-control form-control-lg" placeholder="Imie Nazwisko" name="cardOwnerName" ngModel
                        pattern="^[A-Z][a-z]+ [A-Z][a-z]+" #cardOwnerName="ngModel" minlength="5"
                        [(ngModel)]="service.formData.cardOwnerName" required>
                    <div *ngIf="cardOwnerName.invalid && (cardOwnerName.dirty || cardOwnerName.touched)"
                        class="alert alert-danger">
                        <div *ngIf="cardOwnerName.errors?.['required']">
                            Pole musi byc wypełnione
                        </div>
                        <div *ngIf="cardOwnerName.errors?.['pattern']">
                            Nieprawidlowy format danych
                        </div>
                        <div *ngIf="cardOwnerName.errors?.['minlength']">
                            Pole musi zawierać przynajmniej 5 symboli
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="mt-5">CARD NUMBER</label>
                    <input class="form-control form-control-lg" placeholder="Numer karty 16 znaków" name="cardNumber"
                        ngModel
                        pattern="^(?:4[0-9]{12}(?:[0-9]{3})?|[25][1-7][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$"
                        #cardNumber="ngModel" minlength="16" maxlength="16" [(ngModel)]="service.formData.cardNumber"
                        required>
                    <div *ngIf="cardNumber.invalid && (cardNumber.dirty || cardNumber.touched)"
                        class="alert alert-danger">
                        <div *ngIf="cardNumber.errors?.['required']">
                            Pole musi byc wypełnione
                        </div>
                        <div *ngIf="cardNumber.errors?.['pattern']">
                            Nieprawidlowy format danych
                        </div>
                        <div *ngIf="cardNumber.errors?.['minlength']">
                            Pole musi zawierać przynajmniej 16 symboli
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="mt-5">SECURITY CODE</label>
                    <input type="password" class="form-control form-control-lg" placeholder="Kod bezpieczeństwa"
                        name="securityCode" ngModel pattern="^[0-9]{3,4}$" #securityCode="ngModel" minlength="3"
                        maxlength="3" [(ngModel)]="service.formData.securityCode" required>
                    <div *ngIf="securityCode.invalid && (securityCode.dirty || securityCode.touched)"
                        class="alert alert-danger">
                        <div *ngIf="securityCode.errors?.['required']">
                            Pole musi byc wypełnione
                        </div>
                        <div *ngIf="securityCode.errors?.['pattern']">
                            Nieprawidlowy format danych
                        </div>
                        <div *ngIf="securityCode.errors?.['minlength']">
                            Pole musi zawierać przynajmniej 3 symboli
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="mt-5">EXPIRATION DATE</label>
                    <input type="text" class="form-control form-control-lg" placeholder="MM/YY" name="expirationDate"
                        ngModel pattern="^(0[1-9]|1[0-2])\/?([0-9]{2})$" #expirationDate="ngModel" minlength="5"
                        maxlength="5" [(ngModel)]="service.formData.expirationDate" required>
                    <div *ngIf="expirationDate.invalid && (expirationDate.dirty || expirationDate.touched)"
                        class="alert alert-danger">
                        <div *ngIf="expirationDate.errors?.['required']">
                            Pole musi byc wypełnione
                        </div>
                        <div *ngIf="expirationDate.errors?.['pattern']">
                            Nieprawidlowy format danych
                        </div>
                        <div *ngIf="expirationDate.errors?.['minlength']">
                            Pole musi zawierać przynajmniej 3 symboli
                        </div>
                    </div>
                </div>
                <div class="form-group mt-2">
                    <button class="btn btn-info btn-lg btn-block" type="submit"
                        [disabled]="form.invalid">SUBMIT</button>
                </div>
            </form>
        </div>
        <div class="paymentInfo col-md-6">
            <div style="background-color: rgb(68, 228, 201); margin-top: 150px; padding: 20px;" class="jumbotron">
                <h1 class="display-4 text-center">Informacja odnośnie płatności</h1>
                <div class="paymentInfo_content" style="color: #fff;">
                    <h1 *ngIf="parseToNumber(daysDifference) === 1">Rezerwacja na {{daysDifference}} noc </h1>
                    <h1 *ngIf="parseToNumber(daysDifference) > 1">Rezerwacja na {{daysDifference}} nocy </h1>
                    <h1>Do zapłaty: {{parseToNumber(daysDifference) * price}} PLN</h1>
                </div>
            </div>
        </div>
    </div>
</div>